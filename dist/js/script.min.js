"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function displayHint(e){document.querySelector(".hint__"+e).style.display="block"}function hideHint(e){document.querySelector(".hint__"+e).style.display="none"}function checkboxChecked(e){let t=document.querySelectorAll(".music__radio");document.querySelector("#checkbox-music").checked?(console.log("Выбран"),t.forEach(e=>e.removeAttribute("disabled"))):(t.forEach(e=>{e.setAttribute("disabled","disabled")}),console.log("Не Выбран"))}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const startBtn=document.querySelector(".game-area__button");startBtn.y=20;const gameArea=document.querySelector(".game-area"),car=document.createElement("div"),keys={ArrowUp:!1,ArrowDown:!1,ArrowRight:!1,ArrowLeft:!1},gameSetting={play:!1,score:0,speed:3},player={movePlayer(){keys.ArrowLeft&&this.x>0&&(this.x-=gameSetting.speed/2,car.style.transform="rotate(-10deg)"),keys.ArrowRight&&this.x<gameArea.offsetWidth-car.offsetWidth&&(this.x+=gameSetting.speed/2,car.style.transform="rotate(10deg)"),keys.ArrowRight||keys.ArrowLeft||(car.style.transform="rotate(0deg)"),this.render()},render(){car.style.left=this.x+"px"}};function moveElement(){startBtn.y+=gameSetting.speed,startBtn.style.top=startBtn.y+"px",console.log(startBtn.y),startBtn.y>=document.documentElement.clientHeight&&startBtn.remove()}function createRoadMarks(){let e=document.documentElement.clientHeight;for(let t=0;t<10;t++){const r=document.createElement("div");r.classList.add("road-mark"),r.style.height=e/10+"px",r.y=150*t,r.style.top=150*t+"px",gameArea.appendChild(r)}}function startRun(e){e.preventDefault(),keys[e.key]=!0}function stopRun(e){e.preventDefault(),keys[e.key]=!1}function moveRoad(){document.querySelectorAll(".road-mark").forEach((function(e){e.y+=gameSetting.speed,e.style.top=e.y+"px",e.y>=document.documentElement.clientHeight&&(e.y=0)}))}function startGame(){let e=startBtn.offsetHeight;startBtn.innerHTML="",startBtn.style.height=e+"px",document.querySelector(".game__title").classList.add("hide"),createRoadMarks(),gameArea.appendChild(car),car.classList.add("car"),car.style.left=car.offsetLeft-car.offsetWidth/2+"px",gameSetting.play=!0,player.x=car.offsetLeft,player.render(),requestAnimationFrame(playGame)}function playGame(){gameSetting.play&&(player.movePlayer(),moveRoad(),moveElement(),requestAnimationFrame(playGame))}startBtn.addEventListener("click",startGame),document.addEventListener("keydown",startRun),document.addEventListener("keyup",stopRun);